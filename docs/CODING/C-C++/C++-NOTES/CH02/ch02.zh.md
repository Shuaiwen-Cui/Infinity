# 开始学习C++
本章对C++程序的基本结构做一概述，并预览后面将要介绍的主题。

## 进入C++

我的第一个C++程序：

```cpp
// myfirst.cpp - display a message

#include <iostream>                                 // a PREPROCESSOR directive
int main()                                          // function header
{                                                   // start of function body
    using namespace std;                            // make definitions visible
    cout << "Come up and C++ me some time.";        // message
    cout << endl;                                   // start a new line
    cout << "You won't regret it!" << endl;         // more output
    return 0;                                       // terminate main()
}    
```
!!!info
    事实上，C++能够使用printf(),scanf()等函数，和其他所有标准C输入输出函数，只需要包含常规C语言的stdio.h头文件即可。但是，C++提供了更为便利的stream类库，使得输入输出更为方便。

### main()函数

main函数的基本结构为函数头+函数体，其中函数头为：

```cpp
int main()
{
    // statements
    return 0;
}
```

![main.jpg](main.jpg)

!!! info
    C++与C一样使用终止符作为语句结束的标志，用来告诉程序编译器，这一行的语句已经结束了。通常来说，终止符是分号`;`。记住，分号不能省略。

函数头作为接口，接受传入的参数，执行函数体中的语句，然后返回一个值。main()函数的返回值为0，表示程序正常结束。如果程序异常结束，返回值为其他值，通常为1。如果函数头括号内没有任何内容，说明函数不接受任何参数，这种情况下最好用`void`关键字来表示。函数头前面的类型表示函数返回值的类型，如果函数不返回任何值，可以用`void`关键字表示。main函数的调用者是操作系统，因此main函数的返回值可以用来告诉操作系统程序的运行情况。

### C++注释

C++注释有两种，一种是`//`，另一种是`/* */`。`//`注释只能注释一行，`/* */`注释可以注释多行。前者来自C语言，后者是C++新增的注释方式。但是目前C语言也支持`//`注释。

!!! note
    总结，在C/C++中，`//`注释只能注释一行，`/* */`注释可以注释多行,两者都可以使用。

### C++预处理器和iostream文件

#include 是C++预处理器的一部分，它指示编译器在实际编译之前，先将iostream文件的内容包含到程序中。iostream文件包含了一些定义，使得程序能够使用cin和cout对象，这两个对象分别用于标准输入和标准输出。iostream文件中的定义都在std名称空间中，因此程序中使用cin和cout对象时，必须在它们前面加上std::前缀。

!!! note
    C++中的名称空间是一种将名称封装起来的方法，它可以避免名称冲突。例如，C++中有两个名为cout的对象，一个在std名称空间中，另一个在global名称空间中。如果不使用名称空间，那么编译器就无法区分这两个对象。但是，如果使用std::cout，编译器就能够区分它们了。


### 头文件名
像iostream这样的文件叫做包含文件（include file）—— 由于其被包含在其他文件中，也叫头文件（header file）—— 由于被包含在文件起始处。C++编译器只带了很多头文件，每个头文件都支持一组特定的工具。C语言的传统是，头文件使用扩展名h，将其作为一种通过名称标识文件类型的简单方式。例如，头文件math.h包支持各种各种C语言数学函数，但是C++用法改变了。现在，对老式C的头文件保留了扩展名h，C++仍然可以使用这种文件，而C++文件则没有扩展名。这些C头文件被转换为C++头文件，这些文件被重新命名，去掉了扩展名，前面加上c。例如，math.h被转换为cmath，stdio.h被转换为cstdio。这些文件的内容和以前一样，但是，它们使用了新的名称空间，因此，C++程序可以使用不是C的特性，比如命名空间。例如，C++程序可以使用cmath中的sqrt()函数，而不是math.h中的sqrt()函数。C++程序也可以使用cstdio中的printf()函数，而不是stdio.h中的printf()函数。

| 头文件类型 ｜ 约定 ｜ 示例 ｜ 说明 ｜
| :---: | :---: | :---: | :---: |
| 旧式C头文件 | 以.h结尾 | stdio.h | C/C++程序可以使用 |
| 旧式C++头文件 | 以.h结尾 | iostream.h | C++程序可以使用 |
| 新式C++头文件 | 没有扩展名 | iostream | C++程序可以使用 |
| 转换后的C | 以c开头，没有扩展名 | cstdio | C++程序可以使用，可以使用不是C的特性，比如命名空间 |

### 名称空间/命名空间

名称空间是一种将名称封装起来的方法，它可以避免名称冲突。例如，C++中有两个名为cout的对象，一个在std名称空间中，另一个在global名称空间中。如果不使用名称空间，那么编译器就无法区分这两个对象。但是，如果使用std::cout，编译器就能够区分它们了。

包含了iostream文件之后，就可以使用std名称空间中的对象了。例如，可以使用std::cout对象来输出信息。但是，如果每次都要使用std::cout，就会显得很麻烦。因此，C++提供了using编译指令，它可以将名称空间中的对象引入到当前的名称空间中。例如，可以使用using编译指令将std名称空间中的cout对象引入到当前的名称空间中，这样就可以直接使用cout对象了。可以在函数外引入，也可以在函数内引入。但是，如果在函数内引入，那么只能在函数内使用，函数外不能使用。

### 使用cout进行C++输出
cout是C++的标准输出对象，它是ostream类的一个实例。cout对象使用<<运算符来输出信息。例如，可以使用cout对象输出一条信息，然后使用endl对象输出一个换行符。endl对象是一个特殊的值，它表示换行符。cout对象和endl对象都在std名称空间中，因此，必须在它们前面加上std::前缀。将字符串插入到输出流。

![cout](cout.jpg)

1. 控制符endl-重起一行
2. 换行符






### C++源代码的格式化






## C++语句

### 声明语句和变量

### 赋值语句

### cout的新花样

## 其他C++语句

### 使用cin

### 使用cout进行拼接

### 类简介

## 函数

### 使用有返回值的函数

### 函数变体

### 用户定义的函数

### 用户定义的有返回值的函数

### 在多函数程序中使用using编译指令

## 总结