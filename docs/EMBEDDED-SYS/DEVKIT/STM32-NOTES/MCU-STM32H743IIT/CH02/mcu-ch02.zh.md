# CH02 实验平台硬件资源详解
本章，我们将节将向大家详细介绍 ALIENTEK 阿波罗 STM32H743 开发板各部分（包括底板和核心板）的硬件原理图，让大家对该开发板的各部分硬件原理有个深入理解，并向大家介绍开发板的使用注意事项，为后面的学习做好准备。
本章将分为如下两节：
2.1，开发板底板原理图详解；
2.2，STM32H743 核心板原理图详解
2.3，开发板使用注意事项；
2.4，STM32H743 学习方法；

## 2.1 开发板底板原理图详解
### 2.1.1 核心板接口

### 2.1.2 引出 IO 口

### 2.1.3 USB 串口/串口 1 选择接口

### 2.1.4 JTAG/SWD
这里，我们采用的是标准的 JTAG 接法（支持 SWD），但是 STM32 还有 SWD 接口，SWD只需要最少 2 根线（SWCLK 和 SWDIO）就可以下载并调试代码了，这同我们使用串口下载代码差不多，而且速度非常快，也能调试。所以建议大家在设计产品的时候，可以留出 SWD 来下载调试代码，而摒弃 JTAG。STM32 的 SWD 接口与 JTAG 是共用的，只要接上 JTAG，你就可以使用 SWD 模式了（其实并不需要 JTAG 这么多线），当然，你的调试器必须支持 SWD 模式，JLINK(必须是 V9 或者以上版本)、ULINK2 和 ST LINK 等都支持 SWD 调试。
特别提醒，JTAG 有几个信号线用来接其他外设了，但是 SWD 是完全没有接任何其他外设的，所以在使用的时候，推荐大家一律使用 SWD 模式！！！

### 2.1.5 参考电压选择端口

### 2.1.6 LCD 模块接口

### 2.1.7 复位电路

### 2.1.8 启动模式设置接口
表 2.1.8.1 中，BOOT_ADD0 和 BOOT_ADD1 的高 16 位地址可以由用户任意设置，其设置范围为：0X0000 0000 ~ 0X3FFF 0000，涵盖了整个 FLASH 区域、SRAM 区域和 TCM RAM 区域，基本上，可以设置从任意地址启动（低 16 位必须是 0），通过 FLASH_BOOT_PRGR 寄存器设置。
在出厂的时候,ST 默认给 BOOT_ADD0 和 BOOT_ADD1 编程为：0X0800 0000 和 0X1FF0 0000分别对应用户 FLASH 的起始地址和系统存储器地址，用于执行用户代码或者进入 BOOTLOADER状态。一般情况下我们设置 B00T0 为低电平即可，即从 0X0800 0000 的 FLASH 地址启动，执行用户代码。
这里需要注意两点：
1，STM32H7 虽然也支持串口下载（B00T0=1，从系统存储器启动），但目前没有比较好的支持 STM32H7 的串口下载软件，所以，大家必须自备 ST LINK V2 仿真器一个，用来下载和调试代码。
2，STM32H7 的 FLASH 分为 2 个 bank：Bank1 地址范围为：0X0800 0000 ~ 0X08FF FFFF共 1024KB，Bank2 地址范围为：0X0810 0000 ~ 0X081F FFFF 共 1024KB，组成一个 2MB 的FLASH 区域，用于存储用户代码。系统存储区域的 FLASH 地址这里就不做介绍，详细的说明见《STM32H7xx 参考手册》第 124 页 Table 6。

### 2.1.9 VBAT 供电接口

### 2.1.10 RS232 串口

### 2.1.11 RS485 接口

### 2.1.12 CAN/USB 接口

### 2.1.13 光环境传感器

### 2.1.14 IIC IO 扩展

### 2.1.15 九轴传感器
九轴传感器芯片型号为：MPU9250，该芯片内部集成了：三轴加速度传感器、三轴陀螺仪
和三轴磁力计。并且自带 DMP(Digital Motion Processor)，支持 MPL，该传感器可以用于四轴飞行器的姿态控制和解算。这里我们使用 IIC 接口来访问。
同 AP3216C 一样，该芯片的 IIC_SCL 和 IIC_SDA 同样是挂在 PH4 和 PH5 上，他们共享一个 IIC 总线。9D_INT 是其中断输出脚，连接在 PCF8574（IIC IO 扩展芯片）的 P5 引脚上。

### 2.1.16 温湿度传感器接口

### 2.1.17 红外接收头

### 2.1.18 WIRELESS 模块接口
该接口用来连接 NRF24L01、SPI WIFI 模块等无线模块，从而实现开发板与其他设备的无线数据传输（注意：NRF24L01 不能和蓝牙/WIFI 连接）。
NRF_CE/NRF_CS/NRF_IRQ 连接在 MCU 的 PG12/PG10/PI11 上，而另外 3 个 SPI 信号则接 MCU 的 SPI2（PB13/PB14/PB15）。这里需要注意的是 PI11 还接了 ATK-MODULE 接口的KEY 信号（GBC_KEY），所以在使用 WIRELESS 中断引脚的时候，不能和 ATK-MODULE 接口同时使用，不过，如果没用到 WIRELESS 的中断引脚，那么 ATK-MODUL 接口和 WIRELESS模块就可以同时使用了。另外，PG12 同时还连接了光纤输入信号（SPDIF_RX），所以，光纤输入和 WIRELESS 接口，也不能同时使用。

### 2.1.19 LED

PWR 是系统电源指示灯，为蓝色。LED0(DS0)和 LED1(DS1)分别接在 PB1 和 PB0。为了方便大家判断，我们选择了 DS0 为红色的 LED，DS1 为绿色的 LED。

### 2.1.20 按键

### 2.1.21 TPAD 电容触摸按键

### 2.1.22 OLED/摄像头模块接口

### 2.1.23 有源蜂鸣器
  
### 2.1.24 SD 卡接口
SD 卡采用 4 位 SDIO 方式驱动，理论上最大速度可以达到 24MB/S，非常适合需要高速存
储的情况。图中：SDIO_D0/SDIO_D1/SDIO_D2/SDIO_D3/SDIO_SCK/SDIO_CMD 分别连接在
MCU 的 PC8/PC9/PC10/PC11/PC12/PD2 上面（即 SDMMC 接口）。特别注意：SDIO 和 OLED/
摄像头的部分 IO 有共用，所以在使用 OLED 模块或摄像头模块的时候，只能和 SDIO 分时复
用，不能同时使用。

### 2.1.25 ATK 模块接口

### 2.1.26 多功能端口

### 2.1.27 光纤输入接口

### 2.1.28 以太网接口（RJ45）

### 2.1.29 I2S 音频编解码器

### 2.1.30 电源

### 2.1.31 电源输入输出接口

### 2.1.32 USB 串口

## 2.2 STM32H743 核心板原理图详解

### 2.2.1 MCU

### 2.2.2 底板接口

### 2.2.3 SWD 调试接口

### 2.2.4 SDRAM

### 2.2.5 NAND FLASH

### 2.2.6 SPI FLASH

### 2.2.7 EEPROM

### 2.2.8 RGB LCD 接口

### 2.2.9 串口

### 2.2.10 Micro USB 接口 （type-C）

### 2.2.11 按键

### 2.2.12 LED

### 2.2.13 电源

















## 2.3 开发板使用注意事项



## 2.4 STM32H743 学习方法


